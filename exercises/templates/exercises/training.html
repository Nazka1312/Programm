{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container">
    <h2>üß† –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –¥–ª—è –ø–∞–º—è—Ç–∏</h2>
    <p><strong>–ó–∞–¥–∞–Ω–∏–µ:</strong> {{ exercise.question_text }}</p>

    {% if exercise.image %}
        <img src="{{ exercise.image.url }}" class="img-fluid" alt="–ö–∞—Ä—Ç–∏–Ω–∫–∞ –∫ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—é">
    {% endif %}

    <button class="btn btn-info my-3" onclick="speakText('{{ exercise.question_text }}')">üîä –û–∑–≤—É—á–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ</button>

    <form method="post">
        {% csrf_token %}
        <input type="text" name="answer" class="form-control mb-3" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç..." required>
        <button type="submit" class="btn btn-success">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
    </form>

    {% if result %}
        <div class="alert alert-info mt-3">{{ result }}</div>
    {% endif %}
</div>

<script>
function speakText(text) {
    const utterance = new SpeechSynthesisUtterance(text);
    speechSynthesis.speak(utterance);
}
</script>
{% endblock %}
